<!DOCTYPE html>
<html>
<head>
  <title>N328 Visualizating Information Final Project</title>
   <link rel="stylesheet" href="style.css">
<script src="https://d3js.org/d3.v5.min.js"></script>
    <!--<style>
    .rect:hover { opacity: 0.5; }
  </style-->

</head>
<body>

  <div class=contenedor style="align-items: start;">

    <svg id=demo2 x=50 width=1000 height=75>
        <text id="demo2TextName" x=10 y=100 text-align="left" fill="red"></text>
        <text id="demo2TextOccupation" x=10 y=125 text-align="left"></text>
        <text id="demo2TextNote" x=10 y=150 text-align="left"></text>
        <h3>üëÜüèæClick for more info</h3>
    </svg>
    <h2>Does US economy recessions affect the growing of Startbucks franchises over the years?</h2>
    <img src="starbucks-416x416.png" alt="starbucks" style="width:166px; height:166px;" class="center">
  <div id=d3-container style="align-items: start;">
    </div>

<p class=parg1> Is there any relation between the opening of Starbucks Franchises and USA recessions?</p>
<p> By creating a bar chart in ascending order by the years, I was able to see how everytime the contry is in the middle of a recession,<br> the number of new Starbucks franchise drastically descrease.
<ul>
  <li>Recession of 1980 to 1982</li>
  <li>Recession of 1990</li>
  <li>Recession of 2001</li>
  <li>Recession of 2008-2007</li>
  <li>Recession of 2020</li>
</ul>

<h3>Does US economy recessions affect the growing
of Starbucks franchises over the years?</h3>

<div class=MsoNormal>
<p>The United States have gone through
many different recessions thorough out the years. The most remembered recession
is the recession of the 1930‚Äôs. I will be focusing on the lates recessions,
starting in 1980-82.</p>

<p>The data I am using regards
Starbuck, the data contain the amount of store opening form 1987 when the first
store was open to April 2022, a total of 6,571 store. I created a bar chart: X
axis for the years and Y axis for quantity.</p>

<p>I download a csv file, clean it
out, then summarize the data to have the year and the quantity. I was trying to
load the csv file via d3 however my PC keep blocking the loading of it. The
book was not too clear about how to fix this problem. I end up creating an
array on the &lt;script&gt; tag. I was able to get the same results. The bar
highlights as user hover over it. I did not have much time to learn d3.js and
play with. Between dealing with the aftermath of Covid within me and my kids,
and all the changes at work (schedule change, short of staff, etc.) Sitting
down in front of computer has been difficult as I‚Äôm dealing with brain fog. It‚Äôs
being over two month and its now slowly getting better.</p>

<p>The question I post to graph my
chart was the following:</p>

<p>Can the opening of Starbucks
franchise across the United States over the years show us any relation with the
current past recessions?</p>

<p>I noticed, every year the country
was going through out a recession, the number of opening dramatically decrease.
Although I do not know the reason why openings decrease (could be because of
business decision or it could influence by the recession at the time).</p>

<p>What is clear in
the bar chart is that opening decrease with every recession.</p>

<p style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:28.35pt;
text-indent:-28.35pt'><span style='font-size:9.0pt'>Amadeo, K. (2022, April
13). <i>Why recessions happen in the U.S.</i> The Balance. Retrieved April 21,
2022, from
https://www.thebalance.com/the-history-of-recessions-in-the-united-states-3306011
</span></p>
</div>


  <script src="index.js"></script>

  <script>

var people = [
  ["Click on the buttons to find out more info"," ", " "," "],
    ["Recession", "1980", "Startbuck was not yet open",
    "Cause by the rise of the interses rates to combat inflaction"],
    ["Recession", "1990", "No store opened from 1989 until 1991",
    "Cause by the saving and loan crisis"],
    ["Recession", "2001", "Starbuks opened 4 store less than previous year",
    "Cause by the rise and fall of of the .com business, affected by Y2K"],
    ["Recession", "2008-2009", "The opening of franchise drop drastically,350 less store in 2008, 356 less store in 2009 and 42 less stores in 2010",
    "Cause by the mortgage crisis, which triggered a global bank credit crisis"],
    ["Recession", "2020", "From 2020 to 2021 Startbucks builded 300 less store than the previous year. The hihgest drop since the recession of 2008",
    "Cause by the lost of over 20 million jobs due to the uncertainty of the pandemic"]
];

var dispatchPeople = d3.dispatch("show");

var previousCircle;
var textSelection = d3.select("#demo2").selectAll("text");

dispatchPeople.on("show.color", function(first, last, occupation, note){
    if (previousCircle)
    	d3.select(previousCircle).attr("fill", "black");
    this.attr("fill", "#003B6F");
    previousCircle = this.node();
});
dispatchPeople.on("show.name", function(first, last, occupation, note){
	textSelection
   		.data([" " + first + " " + last, " " + occupation, " " + note])
   		.text((d) => d);
});

d3.select("#demo2")
    .selectAll()
    .data(people)
    .join("circle")
    .attr("cx", (d,i) => i * 40 + 20)
    .attr("cy", 50)
    .attr("r", 15)
    .attr("fill", "black")
    .on("click", function(d){
    	d3.select("#demo2").attr("height", 200);
        //dispatchPeople.call("show", d3.select(this), d[0], d[1], d[2]);
        dispatchPeople.apply("show", d3.select(this), d);
    });
</script>
</div>
  </body>
  </html>
